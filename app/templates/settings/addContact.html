{% extends "base.html" %}
{% block content %}

<script>
$(document).ready(function() {
    $(document).on('keyup', '.nums_only', function (e) {
        $(this).removeClass('td-border-highlighted');
        if (e.keyCode != '9') {
            this.value = this.value.replace(/[^0-9\.]/g,'');
        }
    });
});
</script>

<div class="row">
    <h1>{{ _('Add New Contact') }}</h1>
    {% include 'flash.html' %}
</div>

<div class="row">
    <form action="" method="post" name="addCompany">
        {{form.hidden_tag()}}

        <div>
            <table class="table no-border table-condensed">
                <tr>
                    <td>
                        <label>{{ _('Customer first name') }}:</label>
                        <div class="input-group">
                            {{form.first_name(size=80, class="form-control input-sm")}}
                        </div>
                        {% for error in form.errors.first_name %}
                        <div class="alert alert-danger" role="alert" style="max-width: 400px;">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            [{{error}}]
                        </div>
                        {% endfor %}
                    </td>
                </tr>
                <tr>
                    <td>
                        <label>{{ _('Customer surname') }}:</label>
                        <div class="input-group">
                            {{form.surname(size=80, class="form-control input-sm")}}
                        </div>
                        {% for error in form.errors.surname %}
                        <div class="alert alert-danger" role="alert" style="max-width: 400px;">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            [{{error}}]
                        </div>
                        {% endfor %}
                    </td>
                </tr>
                <tr>
                    <td>
                        <label>{{ _('Phone number') }}:</label>
                        <div class="input-group">
                            {{form.phone(size=80, class="form-control input-sm")}}
                        </div>
                        {% for error in form.errors.phone %}
                        <div class="alert alert-danger" role="alert" style="max-width: 400px;">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            [{{error}}]
                        </div>
                        {% endfor %}
                    </td>
                </tr>
                <tr>
                    <td>
                        <label>{{ _('Email') }}:</label>
                        <div class="input-group">
                            {{form.email(size=80, class="form-control input-sm")}}
                        </div>
                        {% for error in form.errors.email %}
                        <div class="alert alert-danger" role="alert" style="max-width: 400px;">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            [{{error}}]
                        </div>
                        {% endfor %}
                    </td>
                </tr>

                <tr>
                    <td>
                        <label>{{ _('Company') }}:</label>
                        <div class="input-group">
                            {{form.customer(id="customer_select", class="form-control input-sm")}}
                        </div>
                        {% for error in form.errors.customer %}
                        <div class="alert alert-danger" role="alert" style="max-width: 400px;">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            [{{error}}]
                        </div>
                        {% endfor %}
                    </td>
                </tr>

                <tr>
                    <td style="padding-top: 20px;">
                    <input type="submit" value="{{ _('Save customer') }}" class="btn btn-default">
                    <input type="button" class="btn btn-info" onclick="window.location.href = '{{ url_for("contacts")}}'" value="{{ _('Cancel') }}"/>
                    </td>
                </tr>
            </table>
        </div>

    </form>
</div>
{% endblock %}