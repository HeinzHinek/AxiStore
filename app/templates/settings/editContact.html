{% extends "base.html" %}
{% block content %}

<script>
    $(document).ready(function() {
        $("#customer_select").val({{ selected }});

        $("#btn_delete").click(function() {
            return confirm("{{ _('Do you really want to delete this contact?') }}");
        });
    });
</script>

<div class="row">
    <h1>{{ _('Edit Contact') }}</h1>
    {% include 'flash.html' %}
</div>

<div class="row">
    <div>
        <a href="{{ url_for('contacts') }}">{{ _('Back to the list') }}</a>
    </div>
    <br/>
    <form action="" method="post" name="editContact">
        {{form.hidden_tag()}}

        <div>
            <table class="table no-border table-condensed">
                <tr>
                    <td>
                        <label>{{ _('Customer first name') }}:</label>
                        <div class="input-group">
                            {{form.first_name(size=80, class="form-control input-sm")}}
                        </div>
                        {% for error in form.errors.first_name %}
                        <div class="alert alert-danger" role="alert" style="max-width: 400px;">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            [{{error}}]
                        </div>
                        {% endfor %}
                    </td>
                </tr>
                <tr>
                    <td>
                        <label>{{ _('Customer surname') }}:</label>
                        <div class="input-group">
                            {{form.surname(size=80, class="form-control input-sm")}}
                        </div>
                        {% for error in form.errors.surname %}
                        <div class="alert alert-danger" role="alert" style="max-width: 400px;">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            [{{error}}]
                        </div>
                        {% endfor %}
                    </td>
                </tr>
                <tr>
                    <td>
                        <label>{{ _('Phone number') }}:</label>
                        <div class="input-group">
                            {{form.phone(size=80, class="form-control input-sm")}}
                        </div>
                        {% for error in form.errors.phone %}
                        <div class="alert alert-danger" role="alert" style="max-width: 400px;">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            [{{error}}]
                        </div>
                        {% endfor %}
                    </td>
                </tr>
                <tr>
                    <td>
                        <label>{{ _('Email') }}:</label>
                        <div class="input-group">
                            {{form.email(size=80, class="form-control input-sm")}}
                        </div>
                        {% for error in form.errors.email %}
                        <div class="alert alert-danger" role="alert" style="max-width: 400px;">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            [{{error}}]
                        </div>
                        {% endfor %}
                    </td>
                </tr>

                <tr>
                    <td>
                        <label>{{ _('Company') }}:</label>
                        <div class="input-group">
                            {{form.customer(id="customer_select", class="form-control input-sm")}}
                        </div>
                        {% for error in form.errors.customer %}
                        <div class="alert alert-danger" role="alert" style="max-width: 400px;">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            [{{error}}]
                        </div>
                        {% endfor %}
                    </td>
                </tr>

                <tr>
                    <td>
                    <input type="submit" value="{{ _('Save contact') }}" class="btn btn-default">
                    <button id="btn_delete" class="btn btn-danger" name="delete" value="{{ contact.id }}">{{ _('Delete contact') }}</button>
                    </td>
                </tr>
            </table>
        </div>
    </form>
</div>
{% endblock %}